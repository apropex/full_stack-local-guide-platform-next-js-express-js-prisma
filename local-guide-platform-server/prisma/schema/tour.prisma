model Tour {
  id           String           @id @default(uuid())
  title        String
  description  String
  highlights   String[] // Short bullet points
  price        Float
  duration     Int // Hours or days
  durationType TourDurationType @default(HOURS)
  location     String // City/Destination
  latitude     Float?
  longitude    Float?
  meetingPoint String
  maxGroupSize Int
  category     String
  tags         String[]
  languages    String[] // e.g., ["English", "Spanish"]
  difficulty   Difficulty       @default(MEDIUM)

  includes           String[] // e.g., ["Guide", "Snacks"]
  excludes           String[] // e.g., ["Tickets", "Transport"]
  whatToBring        String[]
  cancellationPolicy String?

  approveStatus TourStatus @default(PENDING)

  isActive  Boolean @default(true)
  isDeleted Boolean @default(false)
  deletedBy String?

  rating       Float @default(0.0)
  totalReviews Int   @default(0)

  // Relations
  images   TourImage[]
  guideId  String
  guide    Guide       @relation(fields: [guideId], references: [id])
  bookings Booking[]   @relation("TourBookings")
  reviews  Review[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model TourImage {
  id       String  @id @default(uuid())
  tourId   String
  url      String
  publicId String  @unique
  format   String?
  width    Int?
  height   Int?
  bytes    Int?
  folder   String?

  createdAt DateTime @default(now())

  tour Tour @relation(fields: [tourId], references: [id], onDelete: Cascade)

  @@index([tourId])
}
